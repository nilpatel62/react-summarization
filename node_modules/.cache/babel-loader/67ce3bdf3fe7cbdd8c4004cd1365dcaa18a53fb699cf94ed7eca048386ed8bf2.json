{"ast":null,"code":"import { createMessageHandler } from './helpers/create-message-handler';\nimport { extendWorkerImplementation } from './helpers/extend-worker-implementation';\nimport { isSupportingTransferables } from './helpers/is-supporting-transferables';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nexport const createWorker = function (receiver, workerImplementation) {\n  let isSupportedFunction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : () => true;\n  const fullWorkerImplementation = extendWorkerImplementation(createWorker, workerImplementation, isSupportedFunction);\n  const messageHandler = createMessageHandler(receiver, fullWorkerImplementation);\n  receiver.addEventListener('message', messageHandler);\n  return () => receiver.removeEventListener('message', messageHandler);\n};\nexport { isSupportingTransferables as isSupported };","map":{"version":3,"names":["createMessageHandler","extendWorkerImplementation","isSupportingTransferables","createWorker","receiver","workerImplementation","isSupportedFunction","arguments","length","undefined","fullWorkerImplementation","messageHandler","addEventListener","removeEventListener","isSupported"],"sources":["/Users/neelpatel/Desktop/react_application/pushup_counter/node_modules/recorder-audio-worklet/node_modules/worker-factory/src/module.ts"],"sourcesContent":["import { createMessageHandler } from './helpers/create-message-handler';\nimport { extendWorkerImplementation } from './helpers/extend-worker-implementation';\nimport { isSupportingTransferables } from './helpers/is-supporting-transferables';\nimport { IReceiver, IWorkerDefinition } from './interfaces';\nimport { TDestroyWorkerFunction, TWorkerImplementation } from './types';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nexport const createWorker = <T extends IWorkerDefinition>(\n    receiver: IReceiver,\n    workerImplementation: TWorkerImplementation<T>,\n    isSupportedFunction: () => boolean | Promise<boolean> = () => true\n): TDestroyWorkerFunction => {\n    const fullWorkerImplementation = extendWorkerImplementation<T>(createWorker, workerImplementation, isSupportedFunction);\n    const messageHandler = createMessageHandler(receiver, fullWorkerImplementation);\n\n    receiver.addEventListener('message', messageHandler);\n\n    return () => receiver.removeEventListener('message', messageHandler);\n};\n\nexport { isSupportingTransferables as isSupported };\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,kCAAkC;AACvE,SAASC,0BAA0B,QAAQ,wCAAwC;AACnF,SAASC,yBAAyB,QAAQ,uCAAuC;AAIjF;;;;AAIA,cAAc,oBAAoB;AAClC,cAAc,eAAe;AAE7B,OAAO,MAAMC,YAAY,GAAG,SAAAA,CACxBC,QAAmB,EACnBC,oBAA8C,EAEtB;EAAA,IADxBC,mBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAwD,MAAM,IAAI;EAElE,MAAMG,wBAAwB,GAAGT,0BAA0B,CAAIE,YAAY,EAAEE,oBAAoB,EAAEC,mBAAmB,CAAC;EACvH,MAAMK,cAAc,GAAGX,oBAAoB,CAACI,QAAQ,EAAEM,wBAAwB,CAAC;EAE/EN,QAAQ,CAACQ,gBAAgB,CAAC,SAAS,EAAED,cAAc,CAAC;EAEpD,OAAO,MAAMP,QAAQ,CAACS,mBAAmB,CAAC,SAAS,EAAEF,cAAc,CAAC;AACxE,CAAC;AAED,SAAST,yBAAyB,IAAIY,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}