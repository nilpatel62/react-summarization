{"ast":null,"code":"export const createEventTargetConstructor = (createEventTarget, wrapEventListener) => {\n  return class EventTarget {\n    constructor() {\n      let nativeEventTarget = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this._listeners = new WeakMap();\n      this._nativeEventTarget = nativeEventTarget === null ? createEventTarget() : nativeEventTarget;\n    }\n    addEventListener(type, listener, options) {\n      if (listener !== null) {\n        let wrappedEventListener = this._listeners.get(listener);\n        if (wrappedEventListener === undefined) {\n          wrappedEventListener = wrapEventListener(this, listener);\n          if (typeof listener === 'function') {\n            this._listeners.set(listener, wrappedEventListener);\n          }\n        }\n        this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n      }\n    }\n    dispatchEvent(event) {\n      return this._nativeEventTarget.dispatchEvent(event);\n    }\n    removeEventListener(type, listener, options) {\n      const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n      this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n    }\n  };\n};","map":{"version":3,"names":["createEventTargetConstructor","createEventTarget","wrapEventListener","EventTarget","constructor","nativeEventTarget","arguments","length","undefined","_listeners","WeakMap","_nativeEventTarget","addEventListener","type","listener","options","wrappedEventListener","get","set","dispatchEvent","event","removeEventListener"],"sources":["/Users/neelpatel/Desktop/react_application/pushup_counter/node_modules/extendable-media-recorder/src/factories/event-target-constructor.ts"],"sourcesContent":["import { IEventTarget } from '../interfaces';\nimport { TEventHandler, TEventTargetConstructorFactory, TNativeEventTarget } from '../types';\n\nexport const createEventTargetConstructor: TEventTargetConstructorFactory = (createEventTarget, wrapEventListener) => {\n    return class EventTarget<EventMap extends Record<string, Event>> implements IEventTarget<EventMap> {\n        private _listeners: WeakMap<EventListenerOrEventListenerObject, EventListenerOrEventListenerObject>;\n\n        private _nativeEventTarget: TNativeEventTarget;\n\n        constructor(nativeEventTarget: null | TNativeEventTarget = null) {\n            this._listeners = new WeakMap();\n            this._nativeEventTarget = nativeEventTarget === null ? createEventTarget() : nativeEventTarget;\n        }\n\n        public addEventListener(\n            type: string,\n            listener: null | TEventHandler<this> | EventListenerOrEventListenerObject,\n            options?: boolean | AddEventListenerOptions\n        ): void {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n\n        public dispatchEvent(event: Event): boolean {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n\n        public removeEventListener(\n            type: string,\n            listener: null | TEventHandler<this> | EventListenerOrEventListenerObject,\n            options?: boolean | EventListenerOptions\n        ): void {\n            const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n\n            this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n        }\n    };\n};\n"],"mappings":"AAGA,OAAO,MAAMA,4BAA4B,GAAmCA,CAACC,iBAAiB,EAAEC,iBAAiB,KAAI;EACjH,OAAO,MAAMC,WAAW;IAKpBC,YAAA,EAA+D;MAAA,IAAnDC,iBAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA+C,IAAI;MAC3D,IAAI,CAACG,UAAU,GAAG,IAAIC,OAAO,EAAE;MAC/B,IAAI,CAACC,kBAAkB,GAAGN,iBAAiB,KAAK,IAAI,GAAGJ,iBAAiB,EAAE,GAAGI,iBAAiB;IAClG;IAEOO,gBAAgBA,CACnBC,IAAY,EACZC,QAAyE,EACzEC,OAA2C;MAE3C,IAAID,QAAQ,KAAK,IAAI,EAAE;QACnB,IAAIE,oBAAoB,GAAG,IAAI,CAACP,UAAU,CAACQ,GAAG,CAACH,QAAQ,CAAC;QAExD,IAAIE,oBAAoB,KAAKR,SAAS,EAAE;UACpCQ,oBAAoB,GAAGd,iBAAiB,CAAC,IAAI,EAAEY,QAAQ,CAAC;UAExD,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;YAChC,IAAI,CAACL,UAAU,CAACS,GAAG,CAACJ,QAAQ,EAAEE,oBAAoB,CAAC;;;QAI3D,IAAI,CAACL,kBAAkB,CAACC,gBAAgB,CAACC,IAAI,EAAEG,oBAAoB,EAAED,OAAO,CAAC;;IAErF;IAEOI,aAAaA,CAACC,KAAY;MAC7B,OAAO,IAAI,CAACT,kBAAkB,CAACQ,aAAa,CAACC,KAAK,CAAC;IACvD;IAEOC,mBAAmBA,CACtBR,IAAY,EACZC,QAAyE,EACzEC,OAAwC;MAExC,MAAMC,oBAAoB,GAAGF,QAAQ,KAAK,IAAI,GAAGN,SAAS,GAAG,IAAI,CAACC,UAAU,CAACQ,GAAG,CAACH,QAAQ,CAAC;MAE1F,IAAI,CAACH,kBAAkB,CAACU,mBAAmB,CAACR,IAAI,EAAEG,oBAAoB,KAAKR,SAAS,GAAG,IAAI,GAAGQ,oBAAoB,EAAED,OAAO,CAAC;IAChI;GACH;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}